<ngx-spinner
    bdColor="rgba(0, 0, 0, 0.8)"
    size="medium"
    color="#fff"
    type="ball-fussion"
    [fullScreen]="true"
>
    <p style="color: white">Loading...</p>
</ngx-spinner>

<nav aria-label="breadcrumb" class="bdcrm" >
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a [routerLink]="['/user-manager/dashboard']" >Dashboard</a></li>
        <li class="breadcrumb-item" aria-current="page">Add Shift</li>
    </ol>
</nav>


<div class="card card-outline-secondary shadow-lg p-3 mb-5 bg-white rounded">
    <!-- <div class="card-header hdr-set">
        <h3 class="mb-0">Add Shifts</h3>
    </div> -->
    <form [formGroup]="addShift" (ngSubmit)="onSubmit()">
        <div class="card-body">
            <div class="row mt-4">
                <div class="col-sm-4 pb-3">
                    <label for="startDate">Start Date</label>

                    <input
                        type="text"
                        formControlName="startDate"
                        placeholder="Select start date"
                        class="form-control"
                        bsDatepicker
                        [outsideClick]="true"
                        (bsValueChange)="onCalender($event)"
                        (onHidden)="handler('onHidden')"
                        [bsConfig]="datePickerConfigStart"
                        [ngClass]="{
                            'is-invalid': submitted && fval.startDate.errors
                        }"
                    />
                    <div
                        *ngIf="submitted && fval.startDate.errors"
                        class="invalid-feedback"
                    >
                        <div
                            *ngIf="
                                addShift.controls.startDate.errors &&
                                addShift.controls.startDate.errors.required
                            "
                        >
                            {{
                                addShift.controls.startDate.errors.required
                                    .message
                            }}
                        </div>
                    </div>
                </div>
                <div class="col-sm-4 pb-3">
                    <label for="productManu">End Date</label>

                    <input
                        type="text"
                        formControlName="endDate"
                        placeholder="Select end date"
                        class="form-control"
                        [isDisabled]="isDisabled"
                        bsDatepicker
                        [outsideClick]="true"
                        [bsConfig]="datePickerConfigEnd"
                        [ngClass]="{
                            'is-invalid': submitted && fval.endDate.errors
                        }"
                    />
                    <div
                        *ngIf="submitted && fval.endDate.errors"
                        class="invalid-feedback"
                    >
                        <div
                            *ngIf="
                                addShift.controls.endDate.errors &&
                                addShift.controls.endDate.errors.required
                            "
                        >
                            {{
                                addShift.controls.endDate.errors.required
                                    .message
                            }}
                        </div>
                    </div>
                </div>
                <div class="col-sm-4 pb-3">
                    <label for="productVersion">Start Time</label>
                    <timepicker
                        formControlName="startTime"
                        [showSpinners]="showSpinners"
                        [ngClass]="{
                            'is-invalid': submitted && fval.startTime.errors
                        }"
                        [showMeridian]="isMeridian"
                        [hoursPlaceholder]="hoursPlaceholder"
                        [minutesPlaceholder]="minutesPlaceholder"
                        [secondsPlaceholder]="secondsPlaceholder"
                        showSeconds="true"
                    ></timepicker>
                    <div
                        *ngIf="submitted && fval.startTime.errors"
                        class="invalid-feedback"
                    >
                        <div
                            *ngIf="
                                addShift.controls.startTime.errors &&
                                addShift.controls.startTime.errors.required
                            "
                        >
                            {{
                                addShift.controls.startTime.errors.required
                                    .message
                            }}
                        </div>
                    </div>
                </div>
                <div class="col-sm-4 pb-3">
                    <label for="model">End Time</label>
                    <timepicker
                        formControlName="endTime"
                        [showSpinners]="showSpinners"
                        [ngClass]="{
                            'is-invalid': submitted && fval.endTime.errors
                        }"
                        [showMeridian]="isMeridian"
                        [hoursPlaceholder]="hoursPlaceholder"
                        [minutesPlaceholder]="minutesPlaceholder"
                        [secondsPlaceholder]="secondsPlaceholder"
                        showSeconds="true"
                    ></timepicker>
                    <div
                        *ngIf="submitted && fval.endTime.errors"
                        class="invalid-feedback"
                    >
                        <div
                            *ngIf="
                                addShift.controls.endTime.errors &&
                                addShift.controls.endTime.errors.required
                            "
                        >
                            {{
                                addShift.controls.endTime.errors.required
                                    .message
                            }}
                        </div>
                    </div>
                </div>
                <!-- <div class="col-sm-4 pb-3">
                    <label for="productVersion">Duration</label>
                    <input
                        type="text"
                        formControlName="duration"
                        placeholder="Enter Duration"
                        class="form-control"
                        [ngClass]="{
                            'is-invalid': submitted
                        }"
                    />
                    <div *ngIf="submitted" class="invalid-feedback">
                        <div
                            *ngIf="
                                addShift.controls.duration.errors &&
                                addShift.controls.duration.errors.required
                            "
                        >
                            {{
                                addShift.controls.duration.errors.required
                                    .message
                            }}
                        </div>
                    </div>
                </div> -->
                <div class="col-sm-4 pb-3">
                    <label>Shift Name</label>
                    <select
                        type="text"
                        placeholder="Enter shift"
                        class="form-control"
                        formControlName="shiftName"
                        [ngClass]="{
                            'is-invalid': submitted && fval.shiftName.errors
                        }"
                    >
                        <option value="">Select shift</option>
                        <option>Morning Shift</option>
                        <option>Afternoon Shift</option>
                        <option>Evening Shift</option>
                        <option>Night Shift</option>
                    </select>
                    <div
                        *ngIf="submitted && fval.shiftName.errors"
                        class="invalid-feedback"
                    >
                        <div
                            *ngIf="
                                addShift.controls.shiftName.errors &&
                                addShift.controls.shiftName.errors.required
                            "
                        >
                            {{
                                addShift.controls.shiftName.errors.required
                                    .message
                            }}
                        </div>
                    </div>
                </div>
                <div class="col-sm-4 pb-3">
                    <label>Assign user</label>
                    <select
                        class="form-control"
                        formControlName="assignUser"
                        [ngClass]="{
                            'is-invalid': submitted && fval.assignUser.errors
                        }"
                    >
                        <option value="">Select User</option>
                        <option
                            *ngFor="let item of userList"
                            [ngValue]="item.username"
                        >
                            {{ item.assignUser }}
                        </option>
                    </select>
                    <div
                        *ngIf="submitted && fval.assignUser.errors"
                        class="invalid-feedback"
                    >
                        <div
                            *ngIf="
                                addShift.controls.assignUser.errors &&
                                addShift.controls.assignUser.errors.required
                            "
                        >
                            {{
                                addShift.controls.assignUser.errors.required
                                    .message
                            }}
                        </div>
                    </div>
                </div>
                <div class="col-sm-4 pb-3">
                    <label>Station Name</label>
                    <select
                        class="form-control"
                        formControlName="stationCode"
                        [ngClass]="{
                            'is-invalid': submitted && fval.stationCode.errors
                        }"
                    >
                        <option value="">Select station code</option>
                        <option
                            *ngFor="let item of stationList"
                            [ngValue]="item.stationCode"
                        >
                            {{ item.stationName }}
                        </option>
                    </select>
                    <div
                        *ngIf="submitted && fval.stationCode.errors"
                        class="invalid-feedback"
                    >
                        <div
                            *ngIf="
                                addShift.controls.stationCode.errors &&
                                addShift.controls.stationCode.errors.required
                            "
                        >
                            {{
                                addShift.controls.stationCode.errors.required
                                    .message
                            }}
                        </div>
                    </div>
                </div>
            </div>
            <div class="row justify-content-center">
                <div class="col-3 pb-3">
                    <button class="btn btn-outline-primary mt-1">
                        <i class="fa fa-paper-plane"></i>
                        Add
                    </button>
                </div>
                <div class="col-3 pb-3">
                    <button type="reset" class="btn btn-outline-danger mt-1">
                        <i class="fas fa-redo"></i>
                        Reset
                    </button>
                </div>
            </div>
        </div>
    </form>
</div>
